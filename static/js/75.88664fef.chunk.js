"use strict";(self.webpackChunkbattery_fly_admin=self.webpackChunkbattery_fly_admin||[]).push([[75],{3602:function(e,t,n){n.d(t,{W:function(){return s}});var r=n(5289),a=n(5661),i=n(7123),o=n(4294),c=n(3329),s=function(e){var t=e.open,n=e.handleClose,s=e.handleAction,l=e.text;return(0,c.jsxs)(r.Z,{open:t,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",slotProps:{backdrop:{sx:{backgroundColor:"rgba(0, 0, 0, 0.75)"}}},sx:{"& .MuiDialog-paper":{minWidth:"400px",gap:"10px",bgcolor:"secondary.main",borderRadius:"18px"}},children:[(0,c.jsx)(a.Z,{id:"alert-dialog-title",children:l}),(0,c.jsxs)(i.Z,{children:[(0,c.jsx)(o.Z,{onClick:s,sx:{color:"text.primary","&:hover":{color:"hoverColor.main"}},children:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438"}),(0,c.jsx)(o.Z,{onClick:n,sx:{color:"text.primary","&:hover":{color:"hoverColor.main"}},children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"})]})]})}},5812:function(e,t,n){n.d(t,{t:function(){return c}});var r=n(6934),a=n(697),i=n(3329),o=(0,r.ZP)("div")((function(e){var t=e.theme;return{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%","& .no-results-primary":{fill:"light"===t.palette.mode?"#AEB8C2":"#3D4751"},"& .no-results-secondary":{fill:"light"===t.palette.mode?"#E8EAED":"#1D2126"}}})),c=function(){return(0,i.jsxs)(o,{children:[(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:96,viewBox:"0 0 523 299","aria-hidden":!0,focusable:"false",children:[(0,i.jsx)("path",{className:"no-results-primary",d:"M262 20c-63.513 0-115 51.487-115 115s51.487 115 115 115 115-51.487 115-115S325.513 20 262 20ZM127 135C127 60.442 187.442 0 262 0c74.558 0 135 60.442 135 135 0 74.558-60.442 135-135 135-74.558 0-135-60.442-135-135Z"}),(0,i.jsx)("path",{className:"no-results-primary",d:"M348.929 224.929c3.905-3.905 10.237-3.905 14.142 0l56.569 56.568c3.905 3.906 3.905 10.237 0 14.143-3.906 3.905-10.237 3.905-14.143 0l-56.568-56.569c-3.905-3.905-3.905-10.237 0-14.142ZM212.929 85.929c3.905-3.905 10.237-3.905 14.142 0l84.853 84.853c3.905 3.905 3.905 10.237 0 14.142-3.905 3.905-10.237 3.905-14.142 0l-84.853-84.853c-3.905-3.905-3.905-10.237 0-14.142Z"}),(0,i.jsx)("path",{className:"no-results-primary",d:"M212.929 185.071c-3.905-3.905-3.905-10.237 0-14.142l84.853-84.853c3.905-3.905 10.237-3.905 14.142 0 3.905 3.905 3.905 10.237 0 14.142l-84.853 84.853c-3.905 3.905-10.237 3.905-14.142 0Z"}),(0,i.jsx)("path",{className:"no-results-secondary",d:"M0 43c0-5.523 4.477-10 10-10h100c5.523 0 10 4.477 10 10s-4.477 10-10 10H10C4.477 53 0 48.523 0 43ZM0 89c0-5.523 4.477-10 10-10h80c5.523 0 10 4.477 10 10s-4.477 10-10 10H10C4.477 99 0 94.523 0 89ZM0 135c0-5.523 4.477-10 10-10h74c5.523 0 10 4.477 10 10s-4.477 10-10 10H10c-5.523 0-10-4.477-10-10ZM0 181c0-5.523 4.477-10 10-10h80c5.523 0 10 4.477 10 10s-4.477 10-10 10H10c-5.523 0-10-4.477-10-10ZM0 227c0-5.523 4.477-10 10-10h100c5.523 0 10 4.477 10 10s-4.477 10-10 10H10c-5.523 0-10-4.477-10-10ZM523 227c0 5.523-4.477 10-10 10H413c-5.523 0-10-4.477-10-10s4.477-10 10-10h100c5.523 0 10 4.477 10 10ZM523 181c0 5.523-4.477 10-10 10h-80c-5.523 0-10-4.477-10-10s4.477-10 10-10h80c5.523 0 10 4.477 10 10ZM523 135c0 5.523-4.477 10-10 10h-74c-5.523 0-10-4.477-10-10s4.477-10 10-10h74c5.523 0 10 4.477 10 10ZM523 89c0 5.523-4.477 10-10 10h-80c-5.523 0-10-4.477-10-10s4.477-10 10-10h80c5.523 0 10 4.477 10 10ZM523 43c0 5.523-4.477 10-10 10H413c-5.523 0-10-4.477-10-10s4.477-10 10-10h100c5.523 0 10 4.477 10 10Z"})]}),(0,i.jsx)(a.Z,{sx:{mt:2},children:"No results found."})]})}},9136:function(e,t,n){n.d(t,{N:function(){return c}});var r=n(6934),a=n(697),i=n(3329),o=(0,r.ZP)("div")((function(e){var t=e.theme;return{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%","& .ant-empty-img-1":{fill:"light"===t.palette.mode?"#aeb8c2":"#262626"},"& .ant-empty-img-2":{fill:"light"===t.palette.mode?"#f5f5f7":"#595959"},"& .ant-empty-img-3":{fill:"light"===t.palette.mode?"#dce0e6":"#434343"},"& .ant-empty-img-4":{fill:"light"===t.palette.mode?"#fff":"#1c1c1c"},"& .ant-empty-img-5":{fillOpacity:"light"===t.palette.mode?"0.8":"0.08",fill:"light"===t.palette.mode?"#f5f5f5":"#fff"}}})),c=function(){return(0,i.jsxs)(o,{children:[(0,i.jsx)("svg",{width:"120",height:"100",viewBox:"0 0 184 152","aria-hidden":!0,focusable:"false",children:(0,i.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,i.jsxs)("g",{transform:"translate(24 31.67)",children:[(0,i.jsx)("ellipse",{className:"ant-empty-img-5",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),(0,i.jsx)("path",{className:"ant-empty-img-1",d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),(0,i.jsx)("path",{className:"ant-empty-img-2",d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),(0,i.jsx)("path",{className:"ant-empty-img-3",d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})]}),(0,i.jsx)("path",{className:"ant-empty-img-3",d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),(0,i.jsxs)("g",{className:"ant-empty-img-4",transform:"translate(149.65 15.383)",children:[(0,i.jsx)("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),(0,i.jsx)("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"})]})]})}),(0,i.jsx)(a.Z,{sx:{mt:1},children:"\u041d\u0435\u043c\u0430\u0454 \u0434\u0430\u043d\u0438\u0445"})]})}},3075:function(e,t,n){n.r(t),n.d(t,{default:function(){return V}});var r=n(2791),a=n(9421),i=n(7506),o=function(e){return e.promoCodes.isLoading},c=function(e){return e.promoCodes.promoCodes},s=n(641),l=n(4942),d=n(1413),u=n(9439),m=n(8471),h=n(503),p=n(7772),f=n(1598),x=n(9136),g=n(697),v=n(5168),Z=n(5936),y=n(4515),j=n(3212),C=n(5561),M=n(6486),b=n(3602),N=n(5218),w=n(3433),k=n(4294),z=n(2419),H=n(5003),S=n(3833),A=n(3329),R=function(e){var t=e.setRows,n=e.setRowModesModel;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(k.Z,{variant:"contained",startIcon:(0,A.jsx)(z.Z,{}),onClick:function(){var e=(0,H.kb)();t((function(t){return[{id:e,promoCode:"",discount:"",valid:!0,createdAt:"",isNew:!0}].concat((0,w.Z)(t))})),n((function(t){return(0,d.Z)((0,d.Z)({},t),{},(0,l.Z)({},e,{mode:Z.se.Edit,fieldToFocus:"promoCode"}))}))},sx:{marginLeft:"10px",marginRight:"auto","&:hover":{backgroundColor:"primary.main"}},children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434"}),(0,A.jsx)(S.x,{})]})},E=n(5812),D=function(){var e,t=(0,r.useState)(!1),n=(0,u.Z)(t,2),o=n[0],s=n[1],w=(0,r.useState)(""),k=(0,u.Z)(w,2),z=k[0],H=k[1],S=(0,v.A)(),D=(0,a.z)(),V=(0,a.i)(c),L=(0,r.useState)({}),P=(0,u.Z)(L,2),_=P[0],O=P[1],F=(0,r.useMemo)((function(){return{includeHeaders:!0,includeOutliers:!0,expand:!0}}),[]);(0,r.useEffect)((function(){S.current&&S.current.autosizeColumns(F)}),[S,F,V,_]);var I=(0,r.useMemo)((function(){return V.map((function(e){return{id:e._id,promoCode:e.name,discount:e.discount,valid:e.valid,createdAt:e.createdAt}}))}),[V]),B=(0,r.useState)(I),W=(0,u.Z)(B,2),G=W[0],J=W[1],Q=[{field:"promoCode",headerName:"\u041f\u0440\u043e\u043c\u043e\u043a\u043e\u0434",headerClassName:"super-app-theme--header",align:"center",headerAlign:"center",editable:!0},{field:"discount",headerName:"\u0417\u043d\u0438\u0436\u043a\u0430, %",headerClassName:"super-app-theme--header",type:"number",align:"center",headerAlign:"center",editable:!0},{field:"valid",headerName:"\u0410\u043a\u0442\u0438\u0432\u043d\u0438\u0439",headerClassName:"super-app-theme--header",type:"boolean",editable:!0},{field:"createdAt",headerName:"\u0414\u0430\u0442\u0430 \u0434\u043e\u0434\u0430\u0432\u0430\u043d\u043d\u044f",headerClassName:"super-app-theme--header",type:"date",align:"center",headerAlign:"center",valueFormatter:function(e){if(null==e)return"";var t=e.toLocaleString().slice(0,10),n=e.toLocaleString().slice(11,16);return"".concat(t," ").concat(n)}},{field:"actions",type:"actions",headerName:"",headerClassName:"super-app-theme--header",cellClassName:"actions",getActions:function(e){var t,n=e.id;return(null===(t=_[n])||void 0===t?void 0:t.mode)===Z.se.Edit?[(0,A.jsx)(y.u,{icon:(0,A.jsx)(p.Z,{}),label:"Save",sx:{color:"primary.main"},onClick:U(n)}),(0,A.jsx)(y.u,{icon:(0,A.jsx)(f.Z,{}),label:"Cancel",className:"textPrimary",onClick:q(n),color:"inherit"})]:[(0,A.jsx)(y.u,{icon:(0,A.jsx)(m.Z,{}),label:"Edit",className:"textPrimary",onClick:T(n),color:"inherit"}),(0,A.jsx)(y.u,{icon:(0,A.jsx)(h.Z,{}),label:"Delete",onClick:K(n),color:"inherit"})]}}],T=function(e){return function(){O((0,d.Z)((0,d.Z)({},_),{},(0,l.Z)({},e,{mode:Z.se.Edit})))}},U=function(e){return function(){O((0,d.Z)((0,d.Z)({},_),{},(0,l.Z)({},e,{mode:Z.se.View})))}},q=function(e){return function(){O((0,d.Z)((0,d.Z)({},_),{},(0,l.Z)({},e,{mode:Z.se.View,ignoreModifications:!0})));var t=G.find((function(t){return t.id===e}));null!==t&&void 0!==t&&t.isNew&&J(G.filter((function(t){return t.id!==e})))}},K=function(e){return function(){s(!0),H(e)}};return(0,A.jsxs)(g.Z,{sx:(e={"& .super-app-theme--header":{backgroundColor:"tableHeader.main"}},(0,l.Z)(e,".".concat(j._.cell,".yes"),{"& .MuiSvgIcon-root":{color:"success.main"}}),(0,l.Z)(e,".".concat(j._.cell,".no"),{"& .MuiSvgIcon-root":{color:"error.main"}}),e),children:[o&&(0,A.jsx)(b.W,{open:o,handleClose:function(){s(!1)},handleAction:function(){D((0,i.zt)(z))},text:"\u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456, \u0449\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434?"}),(0,A.jsx)(C._,{apiRef:S,rows:G,columns:Q,editMode:"row",rowModesModel:_,processRowUpdate:function(e,t){if(e.discount>100)return N.ZP.error("\u0417\u043d\u0438\u0436\u043a\u0430 \u043f\u043e\u0432\u0438\u043d\u043d\u0430 \u0431\u0443\u0442\u0438 \u043c\u0435\u043d\u0448\u0435 100%"),t;if(e.discount<.01)return N.ZP.error("\u0417\u043d\u0438\u0436\u043a\u0430 \u043f\u043e\u0432\u0438\u043d\u043d\u0430 \u0431\u0443\u0442\u0438 \u0431\u0456\u043b\u044c\u0448\u043e\u044e \u0437\u0430 0"),t;var n=(0,d.Z)((0,d.Z)({},e),{},{isNew:!1});J(G.map((function(t){return t.id===e.id?n:t})));var r={name:e.promoCode,discount:Math.round(100*Number(e.discount))/100,valid:e.valid};return G.find((function(t){return t.id===e.id&&""===t.promoCode}))?D((0,i.E2)(r)):D((0,i.wL)({id:e.id,promoData:r})),n},autosizeOnMount:!0,autosizeOptions:F,pageSizeOptions:[10,25,100],hideFooterSelectedRowCount:!0,slots:{toolbar:M.n,pagination:function(){return(0,A.jsx)(R,{setRows:J,setRowModesModel:O})},noRowsOverlay:x.N,noResultsOverlay:E.t},slotProps:{toolbar:{showQuickFilter:!0}},initialState:{pagination:{paginationModel:{pageSize:10}}},getCellClassName:function(e){return"valid"===e.field?!0===e.value?"yes":"no":""},sx:{"& .MuiDataGrid-cell:hover":{color:"primary.main"},"--DataGrid-overlayHeight":"300px"}})]})},V=function(){var e=(0,a.z)(),t=(0,a.i)(o);return(0,r.useEffect)((function(){e((0,i.J3)())}),[e]),(0,A.jsx)(A.Fragment,{children:t?(0,A.jsx)(s.p,{}):(0,A.jsx)(D,{})})}}}]);
//# sourceMappingURL=75.88664fef.chunk.js.map