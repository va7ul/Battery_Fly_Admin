"use strict";(self.webpackChunkbattery_fly_admin=self.webpackChunkbattery_fly_admin||[]).push([[974],{3446:function(e,t,n){n.d(t,{f:function(){return s}});var a=n(5289),i=n(5661),o=n(7123),r=n(4294),l=n(3329),s=function(e){var t=e.open,n=e.handleClose,s=e.deleteItem;return(0,l.jsxs)(a.Z,{open:t,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",slotProps:{backdrop:{sx:{backgroundColor:"rgba(0, 0, 0, 0.75)"}}},sx:{"& .MuiDialog-paper":{bgcolor:"secondary.main",borderRadius:"18px"}},children:[(0,l.jsx)(i.Z,{id:"alert-dialog-title",children:"\u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456, \u0449\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434?"}),(0,l.jsxs)(o.Z,{children:[(0,l.jsx)(r.Z,{onClick:s,sx:{color:"text.primary","&:hover":{color:"hoverColor.main"}},children:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438"}),(0,l.jsx)(r.Z,{onClick:n,sx:{color:"text.primary","&:hover":{color:"hoverColor.main"}},children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"})]})]})}},4735:function(e,t,n){n.d(t,{N:function(){return l}});var a=n(6934),i=n(697),o=n(3329),r=(0,a.ZP)("div")((function(e){var t=e.theme;return{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%","& .ant-empty-img-1":{fill:"light"===t.palette.mode?"#aeb8c2":"#262626"},"& .ant-empty-img-2":{fill:"light"===t.palette.mode?"#f5f5f7":"#595959"},"& .ant-empty-img-3":{fill:"light"===t.palette.mode?"#dce0e6":"#434343"},"& .ant-empty-img-4":{fill:"light"===t.palette.mode?"#fff":"#1c1c1c"},"& .ant-empty-img-5":{fillOpacity:"light"===t.palette.mode?"0.8":"0.08",fill:"light"===t.palette.mode?"#f5f5f5":"#fff"}}})),l=function(){return(0,o.jsxs)(r,{children:[(0,o.jsx)("svg",{width:"120",height:"100",viewBox:"0 0 184 152","aria-hidden":!0,focusable:"false",children:(0,o.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,o.jsxs)("g",{transform:"translate(24 31.67)",children:[(0,o.jsx)("ellipse",{className:"ant-empty-img-5",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),(0,o.jsx)("path",{className:"ant-empty-img-1",d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),(0,o.jsx)("path",{className:"ant-empty-img-2",d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),(0,o.jsx)("path",{className:"ant-empty-img-3",d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})]}),(0,o.jsx)("path",{className:"ant-empty-img-3",d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),(0,o.jsxs)("g",{className:"ant-empty-img-4",transform:"translate(149.65 15.383)",children:[(0,o.jsx)("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),(0,o.jsx)("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"})]})]})}),(0,o.jsx)(i.Z,{sx:{mt:1},children:"\u041d\u0435\u043c\u0430\u0454 \u0434\u0430\u043d\u0438\u0445"})]})}},4974:function(e,t,n){n.r(t),n.d(t,{default:function(){return R}});var a=n(2791),i=n(4420),o=n(209),r=function(e){return e.promoCodes.isLoading},l=function(e){return e.promoCodes.promoCodes},s=n(5757),d=n(3433),c=n(4942),u=n(1413),m=n(9439),p=n(2419),f=n(8471),h=n(503),x=n(7772),g=n(1598),v=n(4735),j=n(8693),Z=n(4294),y=n(697),C=n(5168),b=n(5936),M=n(4515),N=n(3833),z=n(2181),w=n(1731),k=n(5003),H=n(3446),V=n(3329),L=function(){var e=(0,a.useState)(!1),t=(0,m.Z)(e,2),n=t[0],r=t[1],s=(0,a.useState)(),L=(0,m.Z)(s,2),R=L[0],S=L[1],A=(0,C.A)(),O=(0,i.I0)(),E=(0,i.v9)(l),F=(0,a.useState)({}),I=(0,m.Z)(F,2),_=I[0],D=I[1],P=(0,a.useMemo)((function(){return{includeHeaders:!0,includeOutliers:!0,expand:!0}}),[]);(0,a.useEffect)((function(){A.current&&A.current.autosizeColumns(P)}),[A,P,E,_]);var B=(0,a.useMemo)((function(){return E.map((function(e){return{id:e._id,promoCode:e.name,discount:e.discount,valid:e.valid,createdAt:e.createdAt}}))}),[E]),G=(0,a.useState)(B),J=(0,m.Z)(G,2),Q=J[0],T=J[1],U=[{field:"promoCode",headerName:"\u041f\u0440\u043e\u043c\u043e\u043a\u043e\u0434",headerClassName:"super-app-theme--header",align:"center",headerAlign:"center",editable:!0},{field:"discount",headerName:"\u0417\u043d\u0438\u0436\u043a\u0430",headerClassName:"super-app-theme--header",type:"number",align:"center",headerAlign:"center",editable:!0},{field:"valid",headerName:"\u0410\u043a\u0442\u0438\u0432\u043d\u0438\u0439",headerClassName:"super-app-theme--header",type:"boolean",editable:!0},{field:"createdAt",headerName:"\u0414\u0430\u0442\u0430 \u0434\u043e\u0434\u0430\u0432\u0430\u043d\u043d\u044f",headerClassName:"super-app-theme--header",type:"date",align:"center",headerAlign:"center",valueFormatter:function(e){return null==e?"":"".concat(e.toLocaleString().slice(0,10))}},{field:"actions",type:"actions",headerName:"",headerClassName:"super-app-theme--header",cellClassName:"actions",getActions:function(e){var t,n=e.id;return(null===(t=_[n])||void 0===t?void 0:t.mode)===b.se.Edit?[(0,V.jsx)(M.u,{icon:(0,V.jsx)(x.Z,{}),label:"Save",sx:{color:"primary.main"},onClick:K(n)}),(0,V.jsx)(M.u,{icon:(0,V.jsx)(g.Z,{}),label:"Cancel",className:"textPrimary",onClick:W(n),color:"inherit"})]:[(0,V.jsx)(M.u,{icon:(0,V.jsx)(f.Z,{}),label:"Edit",className:"textPrimary",onClick:q(n),color:"inherit"}),(0,V.jsx)(M.u,{icon:(0,V.jsx)(h.Z,{}),label:"Delete",onClick:X(n),color:"inherit"})]}}],q=function(e){return function(){D((0,u.Z)((0,u.Z)({},_),{},(0,c.Z)({},e,{mode:b.se.Edit})))}},K=function(e){return function(){D((0,u.Z)((0,u.Z)({},_),{},(0,c.Z)({},e,{mode:b.se.View})))}},W=function(e){return function(){D((0,u.Z)((0,u.Z)({},_),{},(0,c.Z)({},e,{mode:b.se.View,ignoreModifications:!0}))),Q.find((function(t){return t.id===e})).isNew&&T(Q.filter((function(t){return t.id!==e})))}},X=function(e){return function(){r(!0),S(e)}};return(0,V.jsxs)(y.Z,{sx:{"& .super-app-theme--header":{backgroundColor:j.Az.palette.background.primary}},children:[(0,V.jsx)(H.f,{open:n,handleClose:function(){r(!1)},deleteItem:function(){O((0,o.zt)(R))}}),(0,V.jsx)(z._,{autoHeight:!0,apiRef:A,rows:Q,columns:U,editMode:"row",rowModesModel:_,processRowUpdate:function(e){var t=(0,u.Z)((0,u.Z)({},e),{},{isNew:!1});T(Q.map((function(n){return n.id===e.id?t:n})));var n={name:e.promoCode,discount:e.discount,valid:e.valid};return Q.find((function(t){return t.id===e.id&&""===t.promoCode}))?O((0,o.E2)(n)):O((0,o.wL)({id:e.id,promoData:n})),t},autosizeOnMount:!0,autosizeOptions:P,pageSizeOptions:[10,25,100],hideFooterSelectedRowCount:!0,slots:{toolbar:w.n,pagination:function(e){var t=e.setRows,n=e.setRowModesModel;return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(Z.Z,{variant:"contained",startIcon:(0,V.jsx)(p.Z,{}),onClick:function(){var e=(0,k.kb)();t((function(t){return[].concat((0,d.Z)(t),[{id:e,promoCode:"",discount:"",valid:!0,createdAt:"",isNew:!0}])})),n((function(t){return(0,u.Z)((0,u.Z)({},t),{},(0,c.Z)({},e,{mode:b.se.Edit,fieldToFocus:"promoCode"}))}))},sx:{marginLeft:"10px",marginRight:"auto"},children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434"}),(0,V.jsx)(N.x,{})]})},noRowsOverlay:v.N},slotProps:{toolbar:{showQuickFilter:!0},pagination:{setRows:T,setRowModesModel:D}},initialState:{pagination:{paginationModel:{pageSize:10}}},sx:{"--DataGrid-overlayHeight":"300px"}})]})},R=function(){var e=(0,i.I0)(),t=(0,i.v9)(r);return(0,a.useEffect)((function(){e((0,o.J3)())}),[e]),(0,V.jsxs)(V.Fragment,{children:[t&&(0,V.jsx)(s.p,{}),!t&&(0,V.jsx)(L,{})]})}},1598:function(e,t,n){var a=n(4836);t.Z=void 0;var i=a(n(5649)),o=n(3329);t.Z=(0,i.default)((0,o.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"CloseOutlined")},8471:function(e,t,n){var a=n(4836);t.Z=void 0;var i=a(n(5649)),o=n(3329);t.Z=(0,i.default)((0,o.jsx)("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z"}),"EditOutlined")},7772:function(e,t,n){var a=n(4836);t.Z=void 0;var i=a(n(5649)),o=n(3329);t.Z=(0,i.default)((0,o.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm2 16H5V5h11.17L19 7.83zm-7-7c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3M6 6h9v4H6z"}),"SaveOutlined")}}]);
//# sourceMappingURL=974.a8d129d1.chunk.js.map