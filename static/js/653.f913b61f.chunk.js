"use strict";(self.webpackChunkbattery_fly_admin=self.webpackChunkbattery_fly_admin||[]).push([[653],{6924:function(e,t,n){n.d(t,{W:function(){return s}});var i=n(5289),a=n(5661),r=n(7123),o=n(4294),l=n(3329),s=function(e){var t=e.open,n=e.handleClose,s=e.handleAction,c=e.text;return(0,l.jsxs)(i.Z,{open:t,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",slotProps:{backdrop:{sx:{backgroundColor:"rgba(0, 0, 0, 0.75)"}}},sx:{"& .MuiDialog-paper":{minWidth:"400px",gap:"10px",bgcolor:"secondary.main",borderRadius:"18px"}},children:[(0,l.jsx)(a.Z,{id:"alert-dialog-title",children:c}),(0,l.jsxs)(r.Z,{children:[(0,l.jsx)(o.Z,{onClick:s,sx:{color:"text.primary","&:hover":{color:"hoverColor.main"}},children:"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438"}),(0,l.jsx)(o.Z,{onClick:n,sx:{color:"text.primary","&:hover":{color:"hoverColor.main"}},children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"})]})]})}},4735:function(e,t,n){n.d(t,{N:function(){return l}});var i=n(6934),a=n(697),r=n(3329),o=(0,i.ZP)("div")((function(e){var t=e.theme;return{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%","& .ant-empty-img-1":{fill:"light"===t.palette.mode?"#aeb8c2":"#262626"},"& .ant-empty-img-2":{fill:"light"===t.palette.mode?"#f5f5f7":"#595959"},"& .ant-empty-img-3":{fill:"light"===t.palette.mode?"#dce0e6":"#434343"},"& .ant-empty-img-4":{fill:"light"===t.palette.mode?"#fff":"#1c1c1c"},"& .ant-empty-img-5":{fillOpacity:"light"===t.palette.mode?"0.8":"0.08",fill:"light"===t.palette.mode?"#f5f5f5":"#fff"}}})),l=function(){return(0,r.jsxs)(o,{children:[(0,r.jsx)("svg",{width:"120",height:"100",viewBox:"0 0 184 152","aria-hidden":!0,focusable:"false",children:(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsxs)("g",{transform:"translate(24 31.67)",children:[(0,r.jsx)("ellipse",{className:"ant-empty-img-5",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),(0,r.jsx)("path",{className:"ant-empty-img-1",d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),(0,r.jsx)("path",{className:"ant-empty-img-2",d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),(0,r.jsx)("path",{className:"ant-empty-img-3",d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})]}),(0,r.jsx)("path",{className:"ant-empty-img-3",d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),(0,r.jsxs)("g",{className:"ant-empty-img-4",transform:"translate(149.65 15.383)",children:[(0,r.jsx)("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),(0,r.jsx)("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"})]})]})}),(0,r.jsx)(a.Z,{sx:{mt:1},children:"\u041d\u0435\u043c\u0430\u0454 \u0434\u0430\u043d\u0438\u0445"})]})}},8653:function(e,t,n){n.r(t),n.d(t,{default:function(){return H}});var i,a=n(3433),r=n(4942),o=n(1413),l=n(9439),s=n(2791),c=n(697),d=n(2419),u=n(8471),h=n(503),m=n(7772),f=n(1598),p=n(168),g=n(8789).ZP.input(i||(i=(0,p.Z)(["\n  width: 100%;\n  height: 100%;\n  background: inherit;\n  border: none;\n  outline: none;\n"]))),x=n(1973),v=n(5936),y=n(4515),j=n(2181),Z=n(4294),w=n(5003),b=n(4420),C=n(3338),M=function(e){return e.hero.items},k=function(e){return e.hero.isLoading},N=n(4735),R=n(6924),S=n(3329),z=function(){var e=(0,b.I0)(),t=(0,b.v9)(M),n=(0,s.useState)({}),i=(0,l.Z)(n,2),p=i[0],k=i[1],z=(0,s.useState)(!1),D=(0,l.Z)(z,2),H=D[0],V=D[1],P=(0,s.useState)(),E=(0,l.Z)(P,2),A=E[0],L=E[1],F=t.map((function(e){return{id:e._id,image:e.image,text:e.text}})),_=(0,s.useState)(F),I=(0,l.Z)(_,2),W=I[0],O=I[1],G=function(e){return function(){V(!0),L(e)}},K=function(e){return function(){k((0,o.Z)((0,o.Z)({},p),{},(0,r.Z)({},e,{mode:v.se.View,ignoreModifications:!0})))}},U=function(e){return function(){k((0,o.Z)((0,o.Z)({},p),{},(0,r.Z)({},e,{mode:v.se.Edit})))}},B=(0,s.useState)(""),T=(0,l.Z)(B,2),X=T[0],q=T[1],J=(0,s.useState)(""),Q=(0,l.Z)(J,2),Y=Q[0],$=Q[1],ee=function(e){return function(t){t.preventDefault();var n=t.target.files[0];if(n){var i=new FileReader;i.onloadend=function(){q((0,r.Z)({},e,{url:i.result,file:n}))},i.readAsDataURL(n)}}},te=function(t){return function(){var n;k((0,o.Z)((0,o.Z)({},p),{},(0,r.Z)({},t,{mode:v.se.View})));var i=W.find((function(e){return!0===e.isNew&&""===e.text})),a=new FormData;null!==(n=X[t])&&void 0!==n&&n.file&&a.append("image",X[t].file),a.append("text",Y[t]||W.find((function(e){return e.id===t})).text);try{e(i?(0,C.gM)(a):(0,C.Ww)({id:t,formData:a}))}catch(l){console.error("error",l.message)}}},ne=function(e){return function(t){var n=t.target.value;$((function(t){return(0,o.Z)((0,o.Z)({},t),{},(0,r.Z)({},e,n))}))}},ie=[{field:"image",headerName:"\u0424\u043e\u0442\u043e",headerClassName:"super-app-theme--header",type:"image",renderCell:function(e){var t,n,i=e.row.id,a=(null===(t=X[i])||void 0===t?void 0:t.url)||e.value,r=(null===(n=p[i])||void 0===n?void 0:n.mode)===v.se.Edit;return(0,S.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:5,objectFit:"contain",margin:0},children:[(0,S.jsx)("img",{src:a,alt:"Preview",style:{maxWidth:"200px",height:100}}),(0,S.jsx)("input",{type:"file",accept:"image/*",onChange:ee(i),style:{display:r?"inline-block":"none"}})]})},width:450,align:"center",headerAlign:"center",editable:!1},{field:"text",headerName:"\u0422\u0435\u043a\u0441\u0442",headerClassName:"super-app-theme--header",type:"text",width:725,align:"center",headerAlign:"center",editable:!1,renderCell:function(e){var t,n=e.row.id;return(null===(t=p[n])||void 0===t?void 0:t.mode)===v.se.Edit?(0,S.jsx)(g,{type:"text",defaultValue:e.value,onChange:ne(n),onKeyDown:function(e){return e.stopPropagation()}}):e.value}},{field:"actions",headerClassName:"super-app-theme--header",type:"actions",width:100,align:"center",headerAlign:"center",cellClassName:"actions",getActions:function(e){var t,n=e.id;return(null===(t=p[n])||void 0===t?void 0:t.mode)===v.se.Edit?[(0,S.jsx)(y.u,{icon:(0,S.jsx)(m.Z,{}),label:"Save",sx:{color:"primary.main"},onClick:te(n)}),(0,S.jsx)(y.u,{icon:(0,S.jsx)(f.Z,{}),label:"Cancel",className:"textPrimary",onClick:K(n),color:"inherit"})]:[(0,S.jsx)(y.u,{icon:(0,S.jsx)(u.Z,{}),label:"Edit",className:"textPrimary",onClick:U(n),color:"inherit"}),(0,S.jsx)(y.u,{icon:(0,S.jsx)(h.Z,{}),label:"Delete",onClick:G(n),color:"inherit"})]}}];return(0,S.jsxs)(c.Z,{sx:{height:"auto",width:"100%","& .super-app-theme--header":{backgroundColor:"background.primary"}},children:[(0,S.jsx)(R.W,{open:H,handleClose:function(){V(!1)},handleAction:function(){e((0,C.XS)(A))},text:"\u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456, \u0449\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0431\u0430\u043d\u0435\u0440?"}),(0,S.jsx)(j._,{rows:W,columns:ie,editMode:"row",rowModesModel:p,onRowModesModelChange:function(e){k(e)},onRowEditStop:function(e,t){e.reason===x.U.rowFocusOut&&(t.defaultMuiPrevented=!0)},disableColumnMenu:!0,disableColumnResize:!0,disableColumnSorting:!0,rowHeight:100,rowSelection:!1,autoHeight:!0,slots:{pagination:function(e){var t=e.setRows,n=e.setRowModesModel;return(0,S.jsx)(Z.Z,{variant:"contained",startIcon:(0,S.jsx)(d.Z,{}),onClick:function(){var e=(0,w.kb)();t((function(t){return[].concat((0,a.Z)(t),[{id:e,image:"",text:"",isNew:!0}])})),n((function(t){return(0,o.Z)((0,o.Z)({},t),{},(0,r.Z)({},e,{mode:v.se.Edit,fieldToFocus:"text"}))}))},sx:{marginRight:"auto",marginLeft:"10px","&:hover":{backgroundColor:"primary.main"}},children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0431\u0430\u043d\u0435\u0440"})},noRowsOverlay:N.N},slotProps:{pagination:{setRows:O,setRowModesModel:k}},sx:{"& .MuiDataGrid-cell:hover":{color:"primary.main"},"--DataGrid-overlayHeight":"300px"}})]})},D=n(5757),H=function(){var e=(0,b.I0)(),t=(0,b.v9)(k);return(0,s.useEffect)((function(){e((0,C.cK)())}),[e]),(0,S.jsx)(S.Fragment,{children:t?(0,S.jsx)(D.p,{isLoading:t}):(0,S.jsx)(z,{})})}}}]);
//# sourceMappingURL=653.f913b61f.chunk.js.map